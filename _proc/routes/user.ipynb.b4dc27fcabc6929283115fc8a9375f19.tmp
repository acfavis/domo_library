# | export
async def search_virtual_user_by_subscriber_instance(
    auth: dmda.DomoAuth,
    subscriber_instance_ls,
    debug_api: bool = False,
) -> rgd.ResponseGetData:
    url = f"https://{auth.domo_instance}.domo.com/api/publish/v2/proxy_user/domain/"

    body = {"domains": [{f"{subscriber_instance}.domo.com"}
                        for subscriber_instance in subscriber_instance_ls]}

    return await gd.get_data(
        url=url,
        method="POST",
        auth=auth,
        body=body,
        debug_api=debug_api,
    )