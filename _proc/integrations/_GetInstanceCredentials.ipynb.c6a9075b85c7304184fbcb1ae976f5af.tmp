import os

config_auth = dmda.DomoTokenAuth(
    domo_instance='domo-dojo', domo_access_token=os.environ['DOMO_DOJO_ACCESS_TOKEN'])

global_auth = dmda.DomoTokenAuth(
    domo_instance='domo-global', domo_access_token=os.environ['DOMO_DOJO_ACCESS_TOKEN'])

exception_auth = dmda.DomoTokenAuth(
    domo_instance='domo-global', domo_access_token=os.environ['DOMO_DOJO_ACCESS_TOKEN'])


logger = lc.Logger(app_name='test_retrieve_company')

await GetInstanceConfig.get_domains_with_global_config_auth(config_auth=config_auth,
                               config_dataset_id='8d2a8055-7918-4039-b67d-361647e96ea8',
                               sql='SELECT domain as domo_instance from Table',
                               debug_prn=True,
                               debug_log=False,
                               debug_api=False,
                               logger=logger,
                               global_auth = global_auth,
                               exception_auth = exception_auth
                               )